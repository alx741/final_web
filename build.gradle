apply plugin: 'java'

sourceSets {
    main {
        java {
            srcDir 'src/app'
        }
    }
}

task doc(type:Exec) {
    workingDir 'doc/'
    commandLine 'make'
}

task clean_doc(type:Exec) {
    workingDir 'doc/'
    commandLine 'make', 'clean'
}

task web(type:Exec) {
    workingDir 'src/web'
    commandLine 'make'
}

task clean_web(type:Exec) {
    workingDir 'src/web'
    commandLine 'make', 'clean'
}

clean.finalizedBy(clean_doc, clean_web)

build.finalizedBy(doc)
